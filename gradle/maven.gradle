subprojects {
  apply plugin: 'maven-publish'

  publishing {
    publications {
      mavenJava(MavenPublication) {
        from components.java

        if(project.name == 'samza-shell') {
          artifact shellTarGz {
            name "samza-shell"
            classifier "dist"
          }
        }
      }
      repositories {
        maven { 
          credentials {
            username "$artifactory_user"
            password "$artifactory_password"
          }
          url "$artifactory_url"
	}
      }
    }
  }
}
